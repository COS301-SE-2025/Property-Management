<div class = "flex flex-col items-center justify-center">
    <p-card class="text-center">
    <ng-template #title>Inventory Budget</ng-template>
    <div class = "flex items-center justify-center gap-2">
        <p class ="font-semibold mt-2">Remaining Allocated budget: </p>
        <p class="text-yellow-500 text-lg font-semibold mt-2">R {{ budget()[1].budgetAmount | formatAmount }}</p>
    </div>

    <p class=" pb-2 pt-8 pr-85">Inventory expenditure</p>
    <p-table [value] = "inventory()" stripedRows  [tableStyle]="{ 'min-width': '22rem' }">
        <ng-template #header>
        <tr>
            <th pSortableColumn="name">
                Description <p-sortIcon field="name"/>
            </th>
            <th pSortableColumn="quantityInStock">
                Quantity <p-sortIcon field="quantityInStock"/>
            </th>
            <th pSortableColumn="boughtDate">
                Last bought <p-sortIcon field="boughtDate"/>
            </th>
            <th pSortableColumn="price">
                Price <p-sortIcon field="price"/>
            </th>
        </tr>
        </ng-template>
        <ng-template #body let-inventory>
        <tr>
            <td>{{ inventory.name }}</td>
            <td>{{ inventory.quantityInStock }}</td>
            <td>{{ inventory.boughtDate | formatDate }}</td>
            <td>R {{ inventory.price}}</td>
        </tr>
        </ng-template>
    </p-table>

    <p class = "font-semibold pt-3">Total: R {{ getMaintenanceTotal() }}</p>
    <button class = "cursor-pointer pt-6" (click)="editBudgetDialog.editBudget()">
        <img src = "assets/icons/edit.svg" alt="edit maintainence budget">
    </button>
    <app-edit-budget-dialog #editBudgetDialog [budgetType]="'inventory'" [oldBudgetAmount]="budget()[1].budgetAmount"></app-edit-budget-dialog>
    </p-card>
</div>